<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>3D-Modeling Excercise - Kristian Kantola</title>
<meta name="description" content="Tehtävä">


  <meta name="author" content="Kristian Kantola">
  
  <meta property="article:author" content="Kristian Kantola">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Kristian Kantola">
<meta property="og:title" content="3D-Modeling Excercise">
<meta property="og:url" content="https://k9958.github.io/portfolio/3D-Modeling-Exercise/">


  <meta property="og:description" content="Tehtävä">



  <meta property="og:image" content="https://k9958.github.io/assets/images/3d/Render3.png">





  <meta property="article:published_time" content="2022-12-14T00:00:00+00:00">





  

  


<link rel="canonical" href="https://k9958.github.io/portfolio/3D-Modeling-Exercise/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Portfolio",
      "url": "https://k9958.github.io/"
    
  }
</script>







<!-- end _includes/seo.html -->




<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Kristian Kantola
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">Home</a>
            </li><li class="masthead__menu-item">
              <a href="/portfolio/">Portfolio</a>
            </li><li class="masthead__menu-item">
              <a href="/contact/">Contact</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="https://k9958.github.io/">
        <img src="/assets/portrait.jpg" alt="Kristian Kantola" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="https://k9958.github.io/" itemprop="url">Kristian Kantola</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>I am an ambitious ICT Engineering student at JAMK. Quick to learn, fast to adapt.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Jyväskylä, Finland</span>
        </li>
      

      
        
          
            <li><a href="mailto:K9958@student.jamk.fi" rel="nofollow noopener noreferrer me"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="https://kantola.eu" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
        
          
        
          
            <li><a href="https://github.com/K9958" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="3D-Modeling Excercise">
    <meta itemprop="description" content="Tehtävä">
    <meta itemprop="datePublished" content="2022-12-14T00:00:00+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="https://k9958.github.io/portfolio/3D-Modeling-Exercise/" class="u-url" itemprop="url">3D-Modeling Excercise
</a>
          </h1>
          


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Sisällysluettelo</h4></header>
              <ul class="toc__menu"><li><a href="#tehtävä">Tehtävä</a></li><li><a href="#toteutus">Toteutus</a><ul><li><a href="#aloitus-ja-pohja">Aloitus ja pohja</a></li><li><a href="#seinät">Seinät</a></li><li><a href="#ovi-ja-ikkunat">Ovi ja ikkunat</a></li><li><a href="#materiaalit">Materiaalit</a></li><li><a href="#terassi">Terassi</a></li><li><a href="#aidat-ja-geometry-nodes">Aidat ja Geometry Nodes</a><ul><li><a href="#geometry-node-selitetty-auki">Geometry Node selitetty auki</a></li></ul></li><li><a href="#katto-savupiippu-savu">Katto, savupiippu, savu</a></li><li><a href="#ympäristö">Ympäristö</a></li><li><a href="#puut">Puut</a></li><li><a href="#vesi">Vesi</a></li><li><a href="#renderöinti-ja-kompositointi">Renderöinti ja kompositointi</a></li><li><a href="#hasteet">Hasteet</a></li></ul></li><li><a href="#itsearviointi">Itsearviointi</a><ul><li><a href="#kritiikki">Kritiikki</a></li></ul></li><li><a href="#tulokset">Tulokset</a></li><li><a href="#projektin-vaiheisiin-kulunut-aika">Projektin vaiheisiin kulunut aika:</a></li></ul>

            </nav>
          </aside>
        
        <h1 id="tehtävä">Tehtävä</h1>

<p>3D-Mallinnuskurssin harjoitustyön tehtävänä oli valita itselle tarpeeksi haastava aihe, josta tehdä 3D näkymä. Tarkoituksena oli myös käyttää tavallisten 3d-mallinnusteknologioiden ohella haastavempia ja monimutkaisempia tekniikoita ja renderöidä lopputulos. Valitsin aiheekseni mallintaa rantasaunan/mökin rantamaisemalla.</p>

<h1 id="toteutus">Toteutus</h1>

<h2 id="aloitus-ja-pohja">Aloitus ja pohja</h2>

<p>Aloitin etsimällä netistä mallia mökille, jonka voisin mallintaa. Löysin sopivan hirsimökkimallin <a href="https://www.karvianhirsirakentajat.fi/rantasaunat-saunamokit-ja-hirsisaunat/saunamokki-25/">Karvian Hirsirakentajien sivuilta</a>. Heillä oli myös pohjapiirros, mitä voisi käyttää mallina. Otin pohjapiirroksen talteen ja aloin mallintamaan perustusta talolle. Mallinsin pohjapiirroksen millimetrin tarkkuudella. Rajoitin mallinnukseni rakennuksen julkisivuun, jättämällä interioorin mallintamatta.</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/01Pohjapiirros.png" title="Pohjan mallinnus">
          <img src="/assets/images/3d/01Pohjapiirros.png" alt="Pohjan mallinnus" />
      </a>
    
  
    
      <a href="/assets/images/3d/Pohjapiirros.png" title="Pohjapiirros">
          <img src="/assets/images/3d/Pohjapiirros.png" alt="Pohjapiirros" />
      </a>
    
  
    
      <a href="/assets/images/3d/SaunaMalli.png" title="Mökin malli">
          <img src="/assets/images/3d/SaunaMalli.png" alt="Mökin malli" />
      </a>
    
  
  
</figure>

<h2 id="seinät">Seinät</h2>

<p>Hirsimökin seinät mallinsin <em>Arrayksi</em> asetetuista hirsistä, jotka mallinsin sylinteristä (ks galleria). Hirret pyöristin käyttämällä <strong>Bevel</strong>- sekä <strong>Subdivision surface</strong>-modifierejä. <em>Mean Crease</em>-toiminto varmisti, että hirsien päädyt pysyivät tasaisina.</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/02lierioHirreksi.png" title="Hirren mallinnusta">
          <img src="/assets/images/3d/02lierioHirreksi.png" alt="Hirren mallinnusta" />
      </a>
    
  
    
      <a href="/assets/images/3d/03hirreksi.png" title="Hirren mallinnusta 2">
          <img src="/assets/images/3d/03hirreksi.png" alt="Hirren mallinnusta 2" />
      </a>
    
  
    
      <a href="/assets/images/3d/04hirsiArray.png" title="Hirsistä array">
          <img src="/assets/images/3d/04hirsiArray.png" alt="Hirsistä array" />
      </a>
    
  
    
      <a href="/assets/images/3d/05hirsitalo.png" title="Seinät paikallaan">
          <img src="/assets/images/3d/05hirsitalo.png" alt="Seinät paikallaan" />
      </a>
    
  
    
      <a href="/assets/images/3d/14MeanCrease.png" title="Mean Crease">
          <img src="/assets/images/3d/14MeanCrease.png" alt="Mean Crease" />
      </a>
    
  
    
      <a href="/assets/images/3d/15Copymodifiers.png" title="Modifierien kopiointi">
          <img src="/assets/images/3d/15Copymodifiers.png" alt="Modifierien kopiointi" />
      </a>
    
  
  
</figure>

<h2 id="ovi-ja-ikkunat">Ovi ja ikkunat</h2>

<p>Ovelle ja ikkunoille tein aukot kuutioilla joille asetin <strong>Boolean</strong>-modifierin. Boolean leikkaa aukon toiseen objektiin käyttäen itsensä geometriaa leikkurina. Valitsin käyttää <strong>Boolean</strong>ia, sillä ovea ja aukkoa voi siirtää helposti vielä jälkikäteen.</p>

<p>Kun monistin ikkunoita, tein vielä muutoksia ikkunoiden kopioinnin jälkeen objekteihin. Tämän jälkeen jouduin muuttamaan vielä alkuperäistä objektia. Löysin onneksi <strong>Link object data</strong>-toiminnon, jolla yhteen objektiin tehty muutos siirtyy samalla kaikkiin linkattuihin objekteihin.</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/08ikkunalaudoitus.png" title="Ikkunalaudoitus">
          <img src="/assets/images/3d/08ikkunalaudoitus.png" alt="Ikkunalaudoitus" />
      </a>
    
  
    
      <a href="/assets/images/3d/10IkkunaParent.png" title="ikkunan objektien ryhmittely">
          <img src="/assets/images/3d/10IkkunaParent.png" alt="ikkunan objektien ryhmittely" />
      </a>
    
  
    
      <a href="/assets/images/3d/09IkkunaMatskut.png" title="Oviaukko">
          <img src="/assets/images/3d/09IkkunaMatskut.png" alt="Oviaukko" />
      </a>
    
  
    
      <a href="/assets/images/3d/12linkObjectData.png" title="Objektien linkitys">
          <img src="/assets/images/3d/12linkObjectData.png" alt="Objektien linkitys" />
      </a>
    
  
    
      <a href="/assets/images/3d/13linkattumuutos.png" title="Linkitetty objekti muuttuu samalla">
          <img src="/assets/images/3d/13linkattumuutos.png" alt="Linkitetty objekti muuttuu samalla" />
      </a>
    
  
    
      <a href="/assets/images/3d/16Monistetutikkunat.png" title="Linkitetyt ikkunat">
          <img src="/assets/images/3d/16Monistetutikkunat.png" alt="Linkitetyt ikkunat" />
      </a>
    
  
  
</figure>

<p>Toteutin oven suurimmaksi osaksi <strong>Box-Modeling</strong> periaatteella yhdestä kappaleesta. Käytin <strong>Mirror</strong>-modifieriä oven geometrian peilaamiseen toisellekin puolelle. Eristin myöhemmin ovesta kappaleita omiksi objekteikseen, kun tekstuurit eivät renderöityneet oikein Cyclesillä, ja yritin korjata ongelmaa.</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/17Ovi.png" title="Box-Modeling ovi">
          <img src="/assets/images/3d/17Ovi.png" alt="Box-Modeling ovi" />
      </a>
    
  
    
      <a href="/assets/images/3d/18Lukko.png" title="Lukon mallintamista">
          <img src="/assets/images/3d/18Lukko.png" alt="Lukon mallintamista" />
      </a>
    
  
    
      <a href="/assets/images/3d/19detalji.png" title="Oviraudat tasoista Solidifyllä">
          <img src="/assets/images/3d/19detalji.png" alt="Oviraudat tasoista Solidifyllä" />
      </a>
    
  
  
</figure>

<h2 id="materiaalit">Materiaalit</h2>

<p>Loin tutoriaalien avulla ja itse kokeilemalla erilaisia kuvioita ja materiaaleja. Loin testausta varten projektiin oman scenen, johon asetin testattavat materiaalit eri kappaleisiin. Materiaalit olivat aluksi vaikeita ymmärtää ja luoda, mutta rutiinilla alkoi hahmottaa että mitä tiettyjä yhdistelemällä saisi tietynlaisen kuvion aikaiseksi. Tykkäsin kokeilla luoda satunnaisia ja luonnollisia kuvioita, erityisesti puuta muistuttavia materiaaleja. Kuvissa osa luomistani materiaaleista.</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/20MateriaaliStudio.png" title="Studio materiaalien luontia varten">
          <img src="/assets/images/3d/20MateriaaliStudio.png" alt="Studio materiaalien luontia varten" />
      </a>
    
  
    
      <a href="/assets/images/3d/21Materiaalitestailua.png" title="Lisää materiaaleja">
          <img src="/assets/images/3d/21Materiaalitestailua.png" alt="Lisää materiaaleja" />
      </a>
    
  
    
      <a href="/assets/images/3d/22Materiaalitestit.png" title="Vielä lisää materiaaleja. Hehkuva materiaali syntyi vahingossa väärää arvoa muuttamalla">
          <img src="/assets/images/3d/22Materiaalitestit.png" alt="Vielä lisää materiaaleja. Hehkuva materiaali syntyi vahingossa väärää arvoa muuttamalla" />
      </a>
    
  
    
      <a href="/assets/images/3d/24OvimateriaaliLautamateriaalit.png" title="Materiaalit mökkiin">
          <img src="/assets/images/3d/24OvimateriaaliLautamateriaalit.png" alt="Materiaalit mökkiin" />
      </a>
    
  
    
      <a href="/assets/images/3d/35Perustus.png" title="Perustuksen materiaali">
          <img src="/assets/images/3d/35Perustus.png" alt="Perustuksen materiaali" />
      </a>
    
  
  
</figure>

<h2 id="terassi">Terassi</h2>

<p>Terassiin halusin tehdä aidon näköiset laudat, joten etsin mitat, ja mallin erään rautakaupan sivuilta. Mallinsin laudat tarkasti mittojen mukaan, pyöristin aavistuksen <strong>Bevel</strong>-modifierillä ja asetin terassin pohjaksi limittäin <em>Arrayta</em> käyttäen. Leikkasin lautojen ylimenevän osuuden kappaleella, johon laitoin <em>Boolean</em>-modifierin.</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/26Pylvaat.png" title="Kattopylväät">
          <img src="/assets/images/3d/26Pylvaat.png" alt="Kattopylväät" />
      </a>
    
  
    
      <a href="/assets/images/3d/27Terassilauta.png" title="Laudan mallintaminen">
          <img src="/assets/images/3d/27Terassilauta.png" alt="Laudan mallintaminen" />
      </a>
    
  
    
      <a href="/assets/images/3d/29Terassiarray.png" title="Laudat limittäin arrayllä">
          <img src="/assets/images/3d/29Terassiarray.png" alt="Laudat limittäin arrayllä" />
      </a>
    
  
    
      <a href="/assets/images/3d/30TerassiBoolean.png" title="Lautojen leikkaaminen booleanilla">
          <img src="/assets/images/3d/30TerassiBoolean.png" alt="Lautojen leikkaaminen booleanilla" />
      </a>
    
  
    
      <a href="/assets/images/3d/28Terassi.png" title="Laudat leikattuina">
          <img src="/assets/images/3d/28Terassi.png" alt="Laudat leikattuina" />
      </a>
    
  
  
</figure>

<h2 id="aidat-ja-geometry-nodes">Aidat ja Geometry Nodes</h2>

<p>Halusin tehdä aidat käyttäen uutta <strong>Geometry Nodes</strong>-toimintoa blenderissä. Geometry Nodes on node-pohjainen työkalu, jolla voi tehdä noodipohjaista geometriamanipulointia monella eri tavoin. Sillä voi tehdä esimerkiksi dynaamisia aitoja, partikkelisysteemin tapaisia distribuutioita eri pinnoille, ja olemassa olevaan geometriaan muutoksia erilaisien noodien avulla. Halusin tehdä terassiaidan, johon tulee kaide ja sivulaudat, joka skaalautuu automaattisesti ja jota voi dynaamisesti siirrellä. Tavallisella arraylla ei tällaista voi tehdä yksinään.</p>

<p>Geometry Nodes osoittautuikin aidan tapauksessa haastavammaksi tehtäväksi kuin ajattelin. Aidat sain hyvin jaoteltua <strong>Curvelle</strong> eli käyrälle, mutta aidan laudat olivat haastavia, ja ominaisuuden uutuuden takia dokumentaatiota eikä tutoriaaleja ollut paljoa saatavilla. Sain kuitenkin yritysten ja kokeilujen kautta suoran kopioitua ja muutettua kaiteeksi sekä sivulaudoiksi.</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/36GeometryNodeAita.png" title="Aita Geometry Nodella">
          <img src="/assets/images/3d/36GeometryNodeAita.png" alt="Aita Geometry Nodella" />
      </a>
    
  
    
      <a href="/assets/images/3d/37AidanLuominen.png" title="Geometry Nodet">
          <img src="/assets/images/3d/37AidanLuominen.png" alt="Geometry Nodet" />
      </a>
    
  
    
      <a href="/assets/images/3d/38Aita.png" title="Aita sivulautoineen">
          <img src="/assets/images/3d/38Aita.png" alt="Aita sivulautoineen" />
      </a>
    
  
    
      <a href="/assets/images/3d/39TerassiaidatPaikallaan.png" title="Aita asetettuna terassille">
          <img src="/assets/images/3d/39TerassiaidatPaikallaan.png" alt="Aita asetettuna terassille" />
      </a>
    
  
  
</figure>

<h3 id="geometry-node-selitetty-auki">Geometry Node selitetty auki</h3>

<p>Geometry node-editorissa lähtönoodi ottaa nykyisen objektin, johon Geometry Node on liitetty modifierinä, geometrian jota voidaan manipuloida esim. erilaisilla modifiereillä, muutoksilla verteksien sijainteihin, materiaaleja muuttamalla.</p>

<p>Kuvan ja aitaesimerkin avulla selitän noodit:</p>

<figure class=" ">
  
    
      <a href="/assets/images/3d/GeometryAita.jpg" title="Aidan Geometry Nodet">
          <img src="/assets/images/3d/GeometryAita.jpg" alt="Aidan Geometry Nodet" />
      </a>
    
  
  
</figure>

<ol>
  <li>Input Node: Lähdeobjektin geometria. Nykyisessä kohteessa kyseessä Curve.</li>
  <li>Curven jakaminen uudelleen pisteisiin tietyn välimatkan välein</li>
  <li>Jaetaan pisteisiin haluttu objekti. Tässä tapauksessa aidan poikkipuut</li>
  <li>Valittu objekti ja sen asettelu curvelle</li>
  <li>Liikutetaan curvea haluttuun kohtaan</li>
  <li>Tehdään käyrästä paksu, tehdään siitä muoto (mesh) ja asetetaan materiaali</li>
  <li>Sivulaudan tekeminen: Sijoitetaan alkuperäisen curven instanssi toiseen paikkaan, annetaan sille profiili, laajennetaan (extrude)</li>
  <li>Yhdistetään verteksit ja asetetaan materiaali</li>
  <li>Kopioidaan sivulauta ja asetetaan kopio toiseen paikkaan</li>
  <li>Lopuksi yhdistetään kaikki geometria yhdeksi objektiksi ja lähetetään geometria ohjelmalle</li>
</ol>

<h2 id="katto-savupiippu-savu">Katto, savupiippu, savu</h2>

<p>Kattoa mallintaessa nostin seinien korkeutta metrillä ja leikkasin Boolean-modifierillä seinät katon muottiin. Tein katon kehykset laudoista ja asetin katon päälle mustia levyjä bitumikattohuovaksi. Kattoa varten oli aluksi vaikea asetella lautoja toisensa jälkeen samaan kulmaan ja tasoon, joten löysin keinon lautojen ja muidenkin kattokappaleiden helpommalle asettelulle: <a href="https://www.youtube.com/watch?v=b2g-eG6KkCk">Oman koordinaatiston luominen</a>. Tämän avulla sain kaikki kattokappaleet helposti aseteltua.</p>

<p>Tein savupiipun peltihormina ja lisäsin savun käyttämällä blenderin <em>Quick Effects</em> -&gt; <em>Quick Smoke</em> toimintoa, minkä lisäsin palloon, jonka piilotin savupiippuun. Asetin savupiipun hormin seinämiin ja hattuun <em>Liquid Colliderin</em> (Physics-välilehti), jonka avulla sain savun törmäämään piipun geometriaan. Vielä pisteeksi i:n päälle lisäsin tuuliobjektin työntämään savua piipusta ulos. Savun generointi tapahtui “beikkaamalla” (bake) savuefekti tietyille keyframeille. Asetin savun alkamaan kehyksestä -100, jotta savu olisi jo ilmassa ensimmäisen kehyksen kohdalla, josta renderöinti alkaisi.</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/40Katto.png" title="Katto ja piippu paikoillaan">
          <img src="/assets/images/3d/40Katto.png" alt="Katto ja piippu paikoillaan" />
      </a>
    
  
    
      <a href="/assets/images/3d/48Savupiippusavu.png" title="Savun luominen">
          <img src="/assets/images/3d/48Savupiippusavu.png" alt="Savun luominen" />
      </a>
    
  
    
      <a href="/assets/images/3d/52SavuTuuli.png" title="Tuuli työntämään savua ulos">
          <img src="/assets/images/3d/52SavuTuuli.png" alt="Tuuli työntämään savua ulos" />
      </a>
    
  
  
</figure>

<h2 id="ympäristö">Ympäristö</h2>

<p>Loin ympäristölle ruudukon, jonka muotoilin poikkileikkausmaiseksi. Tein ympäristölle kolme erilaista tekstuuria: multa, sora ja hiekka. Osoittautui aluksi vaikeaksi keksiä miten saada kaikkia materiaaleja maalattua samaan maastoon. Löysin netistä <a href="https://www.youtube.com/watch?v=L0hsY1sudRk">tutoriaalivideon</a>, jonka mukaan tekstuureja voi maalata objektiin käyttäen apuna itseluotuja maskitekstuureja, joilla maalataan materiaali maastoon. Objekti UV-unwräpätään ja mustalle testuurille maalataan valkoista kohtiin, joista haluaa toisen tekstuurin näkyvän läpi. Materiaalit yhdistetään materiaali-node-editorissa <em>Mix shader</em>-noodin avulla ja maskitekstuuri kiinnitettään <em>Mix Shader</em>-noodin <em>Fac</em>-arvoon.</p>

<p>Lisäsin maastoon partikkelisysteemin käyttäen hiuspartikkelia, jonka muotoilin ja värjäsin ruohon näköiseksi. Verteksiryhmän (Vertex Group) ja <em>Weight Paint</em>-työkalun avulla värjäsin kohdat, missä halusin ruohoa olevan. Saman toistin ruohon pituudelle.</p>

<p>Kivet generoin maisemaan käyttämällä tuttua <strong>Geometry nodes</strong>-työkalua. Tein työkalun, jolla generoin yksinkertaisista objekteista kuten kuutioista yksityiskohtaisia ja rosoisia kivimalleja. Työkalussa on muutama parametri, joita voi muuttaa ja hienosäätää siten lopputulosta.</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/Maski.png" title="Materiaalit yhdistetään ja maskitekstuuri yhdistetään solmun Fac-arvoon">
          <img src="/assets/images/3d/Maski.png" alt="Materiaalit yhdistetään ja maskitekstuuri yhdistetään solmun Fac-arvoon" />
      </a>
    
  
    
      <a href="/assets/images/3d/PaintMaterials.png" title="Maskiin maalaaminen">
          <img src="/assets/images/3d/PaintMaterials.png" alt="Maskiin maalaaminen" />
      </a>
    
  
    
      <a href="/assets/images/3d/41WeightMap.png" title="Ruohon asettelu käyttäen Weight Mappia">
          <img src="/assets/images/3d/41WeightMap.png" alt="Ruohon asettelu käyttäen Weight Mappia" />
      </a>
    
  
    
      <a href="/assets/images/3d/42Terrainsculpt.png" title="Terrainin sculptaus">
          <img src="/assets/images/3d/42Terrainsculpt.png" alt="Terrainin sculptaus" />
      </a>
    
  
    
      <a href="/assets/images/3d/57Kivet.png" title="Kivien luonti Geometry Nodeilla">
          <img src="/assets/images/3d/57Kivet.png" alt="Kivien luonti Geometry Nodeilla" />
      </a>
    
  
    
      <a href="/assets/images/3d/59Kivi.png" title="Kiven lopputulos materiaaleineen">
          <img src="/assets/images/3d/59Kivi.png" alt="Kiven lopputulos materiaaleineen" />
      </a>
    
  
  
</figure>

<h2 id="puut">Puut</h2>

<p>Puut generoin käyttämällä Blenderin omaa lisäosaa <em>Sapling Tree Gen</em>. Lisäosalla pystyy luomaan erilaisia puupresettejä säätämällä monia puiden ominaisuuksia esim oksien tiheyttä, korkeutta ja haaroitusta. Työkalusta löytyy lukuisien asetusten lisäksi valmiita presettejä. Käytin valmista presettiä sekä omaa luomaa koivujen generointiin. Generoimisen jälkeen muutin puut <em>Meshiksi</em> ja loin niille materiaalin yritten jäljitellä oikeaa koivun ulkonäköä.</p>

<p>Lehdet koivuun sain luomalla koivuun <strong>Particle Systeemin</strong>. Tein verteksijoukon koivun oksille, mihin jaoin partikkelit. Partikkelia varten löysin koivun oksan kuvan netistä, jonka asetin partikkeleiden muodoksi. Lopuksi säädin partikkeleiden määrityksiä esim. satunnaisuutta koon ja rotaation suhteen.</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/saplingtreegen.png" title="Sapling Tree Gen Addon">
          <img src="/assets/images/3d/saplingtreegen.png" alt="Sapling Tree Gen Addon" />
      </a>
    
  
    
      <a href="/assets/images/3d/saplingtreegen2.png" title="Puiden generointi ja kustomointi">
          <img src="/assets/images/3d/saplingtreegen2.png" alt="Puiden generointi ja kustomointi" />
      </a>
    
  
    
      <a href="/assets/images/3d/44Koivutekstuuri.png" title="Versio 1">
          <img src="/assets/images/3d/44Koivutekstuuri.png" alt="Versio 1" />
      </a>
    
  
    
      <a href="/assets/images/3d/45Koivutekstuuri2.png" title="Versio 2">
          <img src="/assets/images/3d/45Koivutekstuuri2.png" alt="Versio 2" />
      </a>
    
  
    
      <a href="/assets/images/3d/46Koivunlehti.png" title="Kuvan hyödyntäminen partikkelina">
          <img src="/assets/images/3d/46Koivunlehti.png" alt="Kuvan hyödyntäminen partikkelina" />
      </a>
    
  
    
      <a href="/assets/images/3d/47Koivulehdet.png" title="Lehdet puussa">
          <img src="/assets/images/3d/47Koivulehdet.png" alt="Lehdet puussa" />
      </a>
    
  
  
</figure>

<h2 id="vesi">Vesi</h2>

<p>Veden tein aluksi laittamalla tason rantaan, ja teksturoin sen karheaksi ja heijastamaan paljon valoa. Koska alussa suunnittelin vielä maisemaa, jossa olisi ns kuutiomainen poikkileikkaus, eli näyttäisi siltä että mökki olisi kuutiomaisella maapläntillä, niin vesi näytti siinä huonolta, koska se oli vain leijuva taso maan päällä. Tein uuden veden käyttäen lasista kuutiota, jonka pinnan tasoa vain aaltomaisesti animoin. Lasiblokissa oli se hyvä puoli, että se alkuperäisessä suunnitelmassani näytti todella paljon paremmalta kuin pelkkä taso, ja oli sopivasti läpinäkyvä. Päädyin loppurenderissä käyttämään tätä lasista blokkia, vaikka se ei päässyt oikeuksiinsa loppurenderissä.</p>

<p>Lisäsin veden materiaaliin ja displacement:iin animaation saadakseni veden liikkumista muistuttavan efektin.</p>

<figure class="half ">
  
    
      <a href="/assets/images/3d/43Vesiblokki.png" title="Vesiblokki lasimateriaalista">
          <img src="/assets/images/3d/43Vesiblokki.png" alt="Vesiblokki lasimateriaalista" />
      </a>
    
  
    
      <a href="/assets/images/3d/49.png" title="Hiotumpi heijastus">
          <img src="/assets/images/3d/49.png" alt="Hiotumpi heijastus" />
      </a>
    
  
  
</figure>

<h2 id="renderöinti-ja-kompositointi">Renderöinti ja kompositointi</h2>

<p>Objektien viimein paikalla ollessa sain luvan renderöidä. Objektit piti jakaa eri <strong>ViewLayer</strong>eihin, jotta staattisia liikkumattomia asioita ei tarvitsisi renderöidä kahta kertaa. Läpinäkyvyys täytyi renderöintiasetuksista laittaa päälle, jotta ympäristön taustakuva ei tulisi renderiin mukaan. ViewLayeristä pystyi sitten laittamaan päälle niitä <em>Collectioneja</em> eli kokoelmia mitä halusi kyseiseen ViewLayeriin mukaan. ViewLayeristä voi laittaa myös päälle pelkästään muiden objektien jättämän läpinäkyvän leikkauksen ja/tai niiden vaikutuksen ympäristöön, kuten varjostus tai valo, ilman että kyseinen objektikokoelma on Layerissä mukana.</p>

<p>Kokonaisajaksi renderöinnissä meni useampi tunti, sillä blender välillä kaatui kesken renderöinnin, ja eräässä tapauksessa renderöinti piti aloittaa alusta.</p>

<p>Renderöinnin jälkeen kompositointityökalulla renderöidyt eri ViewLayereiden kuvat voitiin yhdistää. Tärkeää yhdistelyssä oli kuvien oikea järjestys, jotta kaikki layerit näkyivät lopputuloksessa. Osa layereistä oli staattisia kuvia ja osa kuvakokoelmia, jotka voitiin sitten jälkirenderöidä animaatioksi. Lisäsin kompositointiin muutamia jälkikäsittelyefektejä, joilla säädin ensin erikseen eri viewlayereiden värejä ja sitten lopulta koko lopputuloksen värejä ja valotusta yhdessä. Animaation renderöinnin jälkeen vihdoin uurastuksen lopputulos oli käsissä!</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/50Rendertesti.png" title="Aikainen rendertesti">
          <img src="/assets/images/3d/50Rendertesti.png" alt="Aikainen rendertesti" />
      </a>
    
  
    
      <a href="/assets/images/3d/60Testibeforefinal.png" title="Kompositointitesti Eeveellä ennen viimeisiä renderöintejä">
          <img src="/assets/images/3d/60Testibeforefinal.png" alt="Kompositointitesti Eeveellä ennen viimeisiä renderöintejä" />
      </a>
    
  
    
      <a href="/assets/images/3d/55ViewLayers.png" title="ViewLayereiden luonti">
          <img src="/assets/images/3d/55ViewLayers.png" alt="ViewLayereiden luonti" />
      </a>
    
  
    
      <a href="/assets/images/3d/53Renderlayers.png" title="Vesi omassa layerissään">
          <img src="/assets/images/3d/53Renderlayers.png" alt="Vesi omassa layerissään" />
      </a>
    
  
    
      <a href="/assets/images/3d/54Kompositointiyhteen.png" title="Läpinäkyvien kuvien yhteen kutominen">
          <img src="/assets/images/3d/54Kompositointiyhteen.png" alt="Läpinäkyvien kuvien yhteen kutominen" />
      </a>
    
  
    
      <a href="/assets/images/3d/56YhteenKutominen.png" title="Eeveellä kannattaa testata ennen Cyclesin käyttöä että kaikki sujuu">
          <img src="/assets/images/3d/56YhteenKutominen.png" alt="Eeveellä kannattaa testata ennen Cyclesin käyttöä että kaikki sujuu" />
      </a>
    
  
    
      <a href="/assets/images/3d/Jalkikasittely.png" title="Maiseman jälkikäsittelyä">
          <img src="/assets/images/3d/Jalkikasittely.png" alt="Maiseman jälkikäsittelyä" />
      </a>
    
  
  
</figure>

<h2 id="hasteet">Hasteet</h2>

<p>Alussa en tajunnut sitä miten booleanit toimivat, ja ihmettelin, että boolean-leikkauksen jälkeen leikkauskohdan materiaali on eri kuin mikä leikattavan materiaalin. Tutustuttuani aiheeseen dokumentaation kautta paremmin, tajusin, että booleanit jättävät leikkaavan objektin materiaalin leikattavan objektin leikkauspinnalle. Ratkaisu tähän oli poistaa leikattavan objektin materiaali ja asettaa se uudelleen leikkauksen jälkeen.</p>

<p>Kun olin saanut ovet ja ikkunat tehtyä, kokeilin renderöintiä <strong>Cyclesillä</strong> ja huomasin, että ovessa ja ikkunalaudoissa oli mustia raitoja. Eeveellä renderöitäessä ei ollut. Huomasin, että objektin Pivot-pointin eli originin asettaminen saranasta objektin keskelle korjasi osittain mustat raidat tekstuurissa.</p>

<p>Yksi harmillisimmista ongelmista mikä tuli vastaan oli se, kun yritin mallintaa halkeamia hirsien päätyyn. Halkeamien syvyyttä ei saanut tavallisella normal/bumpmapilla tehtyä, joten vaihtoehtona oli käyttää Cyclesillä näkyvää displacementtiä, joka tekee visuaalisen mutta oikean muutoksen muotoon. Kokeilin erilaisia sisäänrakennettuja tekstuureja halkeamien tuottamiseen kuten <em>voronoi</em>, <em>perlin noise</em>, <em>musgrave</em>, ja sain lopulta aika aidon näköisen halkeaman aikaan. Huono puoli oli siinä, että halkeamien tuottamiseen displacementillä vaadittiin runsaasti geometriaa, ja geometria vaati paljon tehoa tietokoneelta. Sain blenderin kaatumaan, eikä se suostunut käynnistämään projektia pitkien yritysten ja odotustenkaan jälkeen, mutta onneksi löysin varmuuskopion projektista, joka tosin laittoi minun etenemisen useita tunteja taaksepäin.</p>

<p>Renderöinnissä oli lopuksi haastetta, sillä maisemani oli niin yksityiskohtainen, että yhden kehyksen renderöinti kesti yli 40 minuuttia. Minulla oli animaatioiden vuoksi renderöitäviä kehyksiä 100, joten joko animaatio piti jättää pois, tai keksiä miten renderöintiaikaa saisi pienennettyä. Tuntiopettaja antoi vinkin, että renderöitäviä asioita voi jakaa eri <strong>layereihin</strong> eli kerroksiin. Löysin netistä hieman ohjeita, ja sain objektit jaettua eri kerroksiin ja sain renderöityä kerrokset erikseen ja yhdistettyä <strong>kompositoinnin</strong> avulla.</p>

<p>Renderöinnissä tuli toinenkin ongelma, kun yhden animaation tallennuksen jälkeen tallennustiedostomuodoksi oli vaihtunut PNG ilman alfa-kerrosta, eli toisin sanoen läpinäkymätön kuvamuoto. Tämän jälkeen olin renderöinyt 100 kehystä veden layeriä vain huomatakseni, että kuvissa ei ole ollenkaan läpinäkyvyyttä enkä voi yhdistää kuvia kompositoinnin avulla. Vaihdoin tallennustiedostomuotoa tallentamaan myös läpinäkyvyystiedot, ja jouduin renderöimään nämä 100 kehystä uudelleen.’</p>

<figure class="third ">
  
    
      <a href="/assets/images/3d/25RikkiCyclesilla.png" title="Materiaalissa artifaktit Cyclesillä">
          <img src="/assets/images/3d/25RikkiCyclesilla.png" alt="Materiaalissa artifaktit Cyclesillä" />
      </a>
    
  
    
      <a href="/assets/images/3d/31Boolean.png" title="Leikkausjäljet booleanilla">
          <img src="/assets/images/3d/31Boolean.png" alt="Leikkausjäljet booleanilla" />
      </a>
    
  
    
      <a href="/assets/images/3d/32RemoveMaterial.png" title="Ratkaisuna materiaalin poistaminen..">
          <img src="/assets/images/3d/32RemoveMaterial.png" alt="Ratkaisuna materiaalin poistaminen.." />
      </a>
    
  
    
      <a href="/assets/images/3d/33ApplyBooleanAddMaterial.png" title="..ja takaisin laittaminen">
          <img src="/assets/images/3d/33ApplyBooleanAddMaterial.png" alt="..ja takaisin laittaminen" />
      </a>
    
  
    
      <a href="/assets/images/3d/23CrackedMaterial.png" title="Bumpmapilla ei saa aikaan syvää halkeamaa">
          <img src="/assets/images/3d/23CrackedMaterial.png" alt="Bumpmapilla ei saa aikaan syvää halkeamaa" />
      </a>
    
  
    
      <a href="/assets/images/3d/DisplacementTesti.png" title="Halkeamien kokeileminen displacementillä">
          <img src="/assets/images/3d/DisplacementTesti.png" alt="Halkeamien kokeileminen displacementillä" />
      </a>
    
  
  
</figure>

<h1 id="itsearviointi">Itsearviointi</h1>

<p>Työ eteni ja onnistui suuremmilta osin hyvin. Olen tyytyväinen lopputulokseen. Parannettavaa tietenkin on paljon, mutta tähän projektiin tämä on mielestäni riittävä lopputulos. Käytin monimutkaisia tekniikoita esim. Geometry Nodes, ViewLayer-renderöinti, animaation kompositointi, partikkelit. Skulptausta oli hieman myös mukana (maasto). Käytin myös mielestäni tekniikoita suhteellisen monipuolisesti.</p>

<p>Onnistuneimpana ominaisuutena projektissa pidän erityisesti mökkiä. Se on monipuolinen ja sisältää paljon yksityiskohtia, jotka on osa tehty uusimpia tekniikoita käyttäen. Myös pidän hyvin onnistuneena maastoa. Sain hyvin yhdistettyä yhteen maastoon eri maskitekstuureja ja maalaamista hyväksi käyttäen kompleksisia materiaaleja, jotka mielestäni näyttävät hyvältä lopputuloksessa. Ehkä materiaalit ja node-editorin käyttö on oma vahvuuteni, joka aika hyvin näkyy harjoitustyöstä.</p>

<p>Pidän harjoistyötäni kiitettävään arvosanaan riittävänä tai ainakin pääsevän lähelle sitä.</p>

<h2 id="kritiikki">Kritiikki</h2>

<p>Työssä ehkä heikoin kohta on siinä, että maiseman monimutkaisuus ei jakaannu ihan tasaisesti. Mökki on monimutkaisin osa maisemaa, ja ympäröivä muu maisema ei ole aivan yhtä monimutkainen. Mökkiin onkin käytetty suhteessa eniten aikaa. Ennen kuin tein viimeisen renderöinnin, pienensin näkymää kohdistumaan enemmän mökkiin, että mökki pääsisi paremmin oikeuksiinsa.</p>

<p>Vesiraja jäi kokonaan huomiotta, joka renderissä pistää hieman silmään. Sen voisi ehkä tekstuurilla häivyttää.</p>

<p>Puihin oli myös vaikea saada lehdet näyttämään hyvältä. Kokeilin yksittäisiä lehtiä puissa, mutta se ei näyttänyt hyvältä. Oksia olisi pitänyt olla paljon enemmän ja niiden olisi pitänyt jakaantua vielä lisää. Tyydyin tässä vähän heikompaan tulokseen.</p>

<h1 id="tulokset">Tulokset</h1>

<p>Voit katsoa renderöidyn animaation ja renderöidyt kuvat tästä (Muista klikata video <strong>1080p</strong>-resoluutiolle):</p>

<!-- Courtesy of embedresponsively.com -->

<div class="responsive-video-container">
    <iframe src="https://www.youtube-nocookie.com/embed/MKADZk-r7VQ" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>
  </div>

<figure class="third ">
  
    
      <a href="/assets/images/3d/Render1.png" title="Render frame 1">
          <img src="/assets/images/3d/Render1.png" alt="Render frame 1" />
      </a>
    
  
    
      <a href="/assets/images/3d/Render2.png" title="Render frame 25">
          <img src="/assets/images/3d/Render2.png" alt="Render frame 25" />
      </a>
    
  
    
      <a href="/assets/images/3d/Render3.png" title="Render frame 50">
          <img src="/assets/images/3d/Render3.png" alt="Render frame 50" />
      </a>
    
  
  
</figure>

<h1 id="projektin-vaiheisiin-kulunut-aika">Projektin vaiheisiin kulunut aika:</h1>

<table>
  <thead>
    <tr>
      <th>Tunnit</th>
      <th>Vaiheet</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>6</td>
      <td>Perustukset, Seinät, ikkunat</td>
    </tr>
    <tr>
      <td>4</td>
      <td>ikkunat ja oviaukko</td>
    </tr>
    <tr>
      <td>9</td>
      <td>ovi ja materiaalit</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Materiaalit</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Terassi, betoniperustus, aidat</td>
    </tr>
    <tr>
      <td>5</td>
      <td>portaat, palkit, katto</td>
    </tr>
    <tr>
      <td>9</td>
      <td>Katto, savupiippu</td>
    </tr>
    <tr>
      <td>7</td>
      <td>Maasto, vesi, puut, kivet</td>
    </tr>
    <tr>
      <td>10</td>
      <td>Renderöinti, kompositointi</td>
    </tr>
    <tr>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>Yht</td>
      <td>63</td>
    </tr>
  </tbody>
</table>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#blender" class="page__taxonomy-item p-category" rel="tag">Blender</a><span class="sep">, </span>
    
      <a href="/tags/#compositioning" class="page__taxonomy-item p-category" rel="tag">Compositioning</a><span class="sep">, </span>
    
      <a href="/tags/#modeling" class="page__taxonomy-item p-category" rel="tag">Modeling</a><span class="sep">, </span>
    
      <a href="/tags/#rendering" class="page__taxonomy-item p-category" rel="tag">Rendering</a><span class="sep">, </span>
    
      <a href="/tags/#texturing" class="page__taxonomy-item p-category" rel="tag">Texturing</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#portfolio" class="page__taxonomy-item p-category" rel="tag">portfolio</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2022-12-14T00:00:00+00:00">December 14, 2022</time></p>

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/portfolio/Basics-of-Game-Programming/" class="pagination--pager" title="Basics of Game Programming
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Portfolio. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>










  </body>
</html>
