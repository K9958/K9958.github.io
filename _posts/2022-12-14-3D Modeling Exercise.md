---
title: 3D-Modeling Excercise
categories:
  - portfolio
tags:
  - Blender
  - Modeling
  - Rendering
  - Compositioning
  - Texturing
toc: true
toc_label: Sisällysluettelo
toc_sticky: true
galleryaloitus:
  - url: assets/images/3d/01Pohjapiirros.png
    image_path: assets/images/3d/01Pohjapiirros.png
    alt: "Pohjan mallinnus"
    title: "Pohjan mallinnus"
  - url: assets/images/3d/Pohjapiirros.png
    image_path: assets/images/3d/Pohjapiirros.png
    alt: "Pohjapiirros"
    title: "Pohjapiirros"
  - url: assets/images/3d/SaunaMalli.png
    image_path: assets/images/3d/SaunaMalli.png
    alt: "Mökin malli"
    title: "Mökin malli"
galleryseinat:
  - url: assets/images/3d/02lierioHirreksi.png
    image_path: assets/images/3d/02lierioHirreksi.png
    alt: "Hirren mallinnusta"
    title: "Hirren mallinnusta"
  - url: assets/images/3d/03hirreksi.png
    image_path: assets/images/3d/03hirreksi.png
    alt: "Hirren mallinnusta 2"
    title: "Hirren mallinnusta 2"
  - url: assets/images/3d/04hirsiArray.png
    image_path: assets/images/3d/04hirsiArray.png
    alt: "Hirsistä array"
    title: "Hirsistä array"
  - url: assets/images/3d/05hirsitalo.png
    image_path: assets/images/3d/05hirsitalo.png
    alt: "Seinät paikallaan"
    title: "Seinät paikallaan"
galleryikkunat:
  - url: assets/images/3d/08ikkunalaudoitus.png
    image_path: assets/images/3d/08ikkunalaudoitus.png
    alt: "Ikkunalaudoitus"
    title: "Ikkunalaudoitus"
  - url: assets/images/3d/10IkkunaParent.png
    image_path: assets/images/3d/10IkkunaParent.png
    alt: ikkunan objektien ryhmittely
    title: ikkunan objektien ryhmittely
  - url: assets/images/3d/09IkkunaMatskut.png
    image_path: assets/images/3d/09IkkunaMatskut.png
    alt: "Oviaukko"
    title: "Oviaukko"
  - url: assets/images/3d/12linkObjectData.png
    image_path: assets/images/3d/12linkObjectData.png
    alt: "Objektien linkitys"
    title: "Objektien linkitys"
  - url: assets/images/3d/13linkattumuutos.png
    image_path: assets/images/3d/13linkattumuutos.png
    alt: "Linkitetty objekti muuttuu samalla"
    title: "Linkitetty objekti muuttuu samalla"
  - url: assets/images/3d/16Monistetutikkunat.png
    image_path: assets/images/3d/16Monistetutikkunat.png
    alt: "Linkitetyt ikkunat"
    title: "Linkitetyt ikkunat"
galleryhaasteet:
  - url: assets/images/3d/25RikkiCyclesilla.png
    image_path: assets/images/3d/25RikkiCyclesilla.png
    alt: "Materiaalissa artifaktit Cyclesillä"
    title: "Materiaalissa artifaktit Cyclesillä"
  - url: assets/images/3d/31Boolean.png
    image_path: assets/images/3d/31Boolean.png
    alt: "Leikkausjäljet booleanilla"
    title: "Leikkausjäljet booleanilla"
  - url: assets/images/3d/32RemoveMaterial.png
    image_path: assets/images/3d/32RemoveMaterial.png
    alt: "Ratkaisuna materiaalin poistaminen.."
    title: "Ratkaisuna materiaalin poistaminen.."
  - url: assets/images/3d/33ApplyBooleanAddMaterial.png
    image_path: assets/images/3d/33ApplyBooleanAddMaterial.png
    alt: "..ja takaisin laittaminen"
    title: "..ja takaisin laittaminen"
  - url: assets/images/3d/23CrackedMaterial.png
    image_path: assets/images/3d/23CrackedMaterial.png
    alt: "Bumpmapilla ei saa aikaan syvää halkeamaa"
    title: "Bumpmapilla ei saa aikaan syvää halkeamaa"
  - url: assets/images/3d/DisplacementTesti.png
    image_path: assets/images/3d/DisplacementTesti.png
    alt: "Halkeamien kokeileminen displacementillä"
    title: "Halkeamien kokeileminen displacementillä"
gallerypuut:
  - url: assets/images/3d/saplingtreegen.png
    image_path: assets/images/3d/saplingtreegen.png
    alt: "Sapling Tree Gen Addon"
    title: "Sapling Tree Gen Addon"
  - url: assets/images/3d/saplingtreegen2.png
    image_path: assets/images/3d/saplingtreegen2.png
    alt: "Puiden generointi ja kustomointi"
    title: "Puiden generointi ja kustomointi"
  - url: assets/images/3d/44Koivutekstuuri.png
    image_path: assets/images/3d/44Koivutekstuuri.png
    alt: Versio 1
    title: Versio 1
  - url: assets/images/3d/45Koivutekstuuri2.png
    image_path: assets/images/3d/45Koivutekstuuri2.png
    alt: Versio 2
    title: Versio 2
  - url: assets/images/3d/46Koivunlehti.png
    image_path: assets/images/3d/46Koivunlehti.png
    alt: Kuvan hyödyntäminen partikkelina
    title: Kuvan hyödyntäminen partikkelina
  - url: assets/images/3d/47Koivulehdet.png
    image_path: assets/images/3d/47Koivulehdet.png
    alt: Lehdet puussa
    title: Lehdet puussa
galleryrender:
  - url: assets/images/3d/Render1.png
    image_path: assets/images/3d/Render1.png
    alt: "Render frame 1"
    title: "Render frame 1"
  - url: assets/images/3d/Render2.png
    image_path: assets/images/3d/Render2.png
    alt: "Render frame 25"
    title: "Render frame 25"
  - url: assets/images/3d/Render3.png
    image_path: assets/images/3d/Render3.png
    alt: "Render frame 50"
    title: "Render frame 50"
galleryterassi:
  - url: assets/images/3d/26Pylvaat.png
    image_path: assets/images/3d/26Pylvaat.png
    alt: "Kattopylväät"
    title: "Kattopylväät"
  - url: assets/images/3d/27Terassilauta.png
    image_path: assets/images/3d/27Terassilauta.png
    alt: "Laudan mallintaminen"
    title: "Laudan mallintaminen"
  - url: assets/images/3d/29Terassiarray.png
    image_path: assets/images/3d/29Terassiarray.png
    alt: "Laudat limittäin arrayllä"
    title: "Laudat limittäin arrayllä"
  - url: assets/images/3d/30TerassiBoolean.png
    image_path: assets/images/3d/30TerassiBoolean.png
    alt: "Lautojen leikkaaminen booleanilla"
    title: "Lautojen leikkaaminen booleanilla"
  - url: assets/images/3d/28Terassi.png
    image_path: assets/images/3d/28Terassi.png
    alt: "Laudat leikattuina"
    title: "Laudat leikattuina"
galleryaidat:
  - url: assets/images/3d/36GeometryNodeAita.png
    image_path: assets/images/3d/36GeometryNodeAita.png
    alt: Aita Geometry Nodella
    title: Aita Geometry Nodella
  - url: assets/images/3d/37AidanLuominen.png
    image_path: assets/images/3d/37AidanLuominen.png
    alt: Geometry Nodet
    title: Geometry Nodet
  - url: assets/images/3d/38Aita.png
    image_path: assets/images/3d/38Aita.png
    alt: Aita sivulautoineen
    title: Aita sivulautoineen
  - url: assets/images/3d/39TerassiaidatPaikallaan.png
    image_path: assets/images/3d/39TerassiaidatPaikallaan.png
    alt: Aita asetettuna terassille
    title: Aita asetettuna terassille
galleryovi:
  - url: assets/images/3d/17Ovi.png
    image_path: assets/images/3d/17Ovi.png
    alt: Box-Modeling ovi
    title: Box-Modeling ovi
  - url: assets/images/3d/18Lukko.png
    image_path: assets/images/3d/18Lukko.png
    alt: Lukon mallintamista
    title: Lukon mallintamista
  - url: assets/images/3d/19detalji.png
    image_path: assets/images/3d/19detalji.png
    alt: Oviraudat tasoista Solidifyllä
    title: Oviraudat tasoista Solidifyllä
gallerykatto:
  - url: assets/images/3d/40Katto.png
    image_path: assets/images/3d/40Katto.png
    alt: Katto ja piippu paikoillaan
    title: Katto ja piippu paikoillaan
  - url: assets/images/3d/48Savupiippusavu.png
    image_path: assets/images/3d/48Savupiippusavu.png
    alt: Savun luominen
    title: Savun luominen
  - url: assets/images/3d/52SavuTuuli.png
    image_path: assets/images/3d/52SavuTuuli.png
    alt: Tuuli työntämään savua ulos
    title: Tuuli työntämään savua ulos
gallerymaisema:
  - url: assets/images/3d/Maski.png
    image_path: assets/images/3d/Maski.png
    alt: Materiaalit yhdistetään ja maskitekstuuri yhdistetään solmun Fac-arvoon
    title: Materiaalit yhdistetään ja maskitekstuuri yhdistetään solmun Fac-arvoon
  - url: assets/images/3d/PaintMaterials.png
    image_path: assets/images/3d/PaintMaterials.png
    alt: Maskiin maalaaminen
    title: Maskiin maalaaminen
  - url: assets/images/3d/41WeightMap.png
    image_path: assets/images/3d/41WeightMap.png
    alt: Ruohon asettelu käyttäen Weight Mappia
    title: Ruohon asettelu käyttäen Weight Mappia
  - url: assets/images/3d/42Terrainsculpt.png
    image_path: assets/images/3d/42Terrainsculpt.png
    alt: Terrainin sculptaus
    title: Terrainin sculptaus
  - url: assets/images/3d/57Kivet.png
    image_path: assets/images/3d/57Kivet.png
    alt: Kivien luonti Geometry Nodeilla
    title: Kivien luonti Geometry Nodeilla
  - url: assets/images/3d/59Kivi.png
    image_path: assets/images/3d/59Kivi.png
    alt: Kiven lopputulos materiaaleineen
    title: Kiven lopputulos materiaaleineen
galleryvesi:
  - url: assets/images/3d/43Vesiblokki.png
    image_path: assets/images/3d/43Vesiblokki.png
    alt: "Vesiblokki lasimateriaalista"
    title: "Vesiblokki lasimateriaalista"
  - url: assets/images/3d/49.png
    image_path: assets/images/3d/49.png
    alt: "Hiotumpi heijastus"
    title: "Hiotumpi heijastus"
gallerymateriaalit:
  - url: assets/images/3d/20MateriaaliStudio.png
    image_path: assets/images/3d/20MateriaaliStudio.png
    alt: Studio materiaalien luontia varten
    title: Studio materiaalien luontia varten
  - url: assets/images/3d/21Materiaalitestailua.png
    image_path: assets/images/3d/21Materiaalitestailua.png
    alt: Lisää materiaaleja
    title: Lisää materiaaleja
  - url: assets/images/3d/22Materiaalitestit.png
    image_path: assets/images/3d/22Materiaalitestit.png
    alt: Vielä lisää materiaaleja. Hehkuva materiaali syntyi vahingossa väärää arvoa muuttamalla
    title: Vielä lisää materiaaleja. Hehkuva materiaali syntyi vahingossa väärää arvoa muuttamalla
  - url: assets/images/3d/24OvimateriaaliLautamateriaalit.png
    image_path: assets/images/3d/24OvimateriaaliLautamateriaalit.png
    alt: Materiaalit mökkiin
    title: Materiaalit mökkiin
  - url: assets/images/3d/35Perustus.png
    image_path: assets/images/3d/35Perustus.png
    alt: Perustuksen materiaali
    title: Perustuksen materiaali
gallerykomposti:
    image_path: assets/images/3d/50Rendertesti.png
    alt: Aikainen rendertesti
    title: Aikainen rendertesti
  - url: assets/images/3d/60Testibeforefinal.png
    image_path: assets/images/3d/60Testibeforefinal.png
    alt: Kompositointitesti Eeveellä ennen viimeisiä renderöintejä
    title: Kompositointitesti Eeveellä ennen viimeisiä renderöintejä
  - url: assets/images/3d/55ViewLayers.png
    image_path: assets/images/3d/55ViewLayers.png
    alt: ViewLayereiden luonti
    title: ViewLayereiden luonti
  - url: assets/images/3d/53Renderlayers.png
    image_path: assets/images/3d/53Renderlayers.png
    alt: Vesi omassa layerissään
    title: Vesi omassa layerissään
  - url: assets/images/3d/54Kompositointiyhteen.png
    image_path: assets/images/3d/54Kompositointiyhteen.png
    alt: Läpinäkyvien kuvien yhteen kutominen
    title: Läpinäkyvien kuvien yhteen kutominen
  - url: assets/images/3d/56YhteenKutominen.png
    image_path: assets/images/3d/56YhteenKutominen.png
    alt: Eeveellä kannattaa testata ennen Cyclesin käyttöä että kaikki sujuu
    title: Eeveellä kannattaa testata ennen Cyclesin käyttöä että kaikki sujuu
  - url: assets/images/3d/Jalkikasittely.png
    image_path: assets/images/3d/Jalkikasittely.png
    alt: Maiseman jälkikäsittelyä
    title: Maiseman jälkikäsittelyä

---

# Tehtävä

3D-Mallinnuskurssin harjoitustyön tehtävänä oli valita itselle tarpeeksi haastava aihe, josta tehdä 3D näkymä. Tarkoituksena oli myös käyttää tavallisten 3d-mallinnusteknologioiden ohella haastavempia ja monimutkaisempia tekniikoita. Valitsin aiheekseni mallintaa rantasaunan/mökin rantamaisemalla.

# Toteutus

## Aloitus ja pohja

Aloitin etsimällä netistä mallia mökille, jonka voisin mallintaa. Löysin sopivan hirsimökkimallin [Karvian Hirsirakentajien sivuilta](https://www.karvianhirsirakentajat.fi/rantasaunat-saunamokit-ja-hirsisaunat/saunamokki-25/). Heillä oli myös pohjapiirros, mitä voisi käyttää mallina. Otin pohjapiirroksen talteen ja aloin mallintamaan perustusta talolle. Mallinsin pohjapiirroksen millimetrin tarkkuudella. Rajoitin mallinnukseni rakennuksen julkisivuun, jättämällä interioorin mallintamatta.

{% include gallery id="galleryaloitus" %}

## Seinät

Hirsimökin seinät mallinsin *Arrayksi* asetetuista hirsistä, jotka mallinsin sylinteristä (ks galleria). Hirret pyöristin käyttämällä **Bevel**- sekä **Subdivision surface**-modifierejä. *Mean Crease*-toiminto varmisti, että hirsien päädyt pysyivät tasaisina.

{% include gallery id="galleryseinat" %}

## Ovi ja ikkunat

Ovelle ja ikkunoille tein aukot kuutioilla joille asetin **Boolean**-modifierin. Boolean leikkaa aukon toiseen objektiin käyttäen itsensä geometriaa leikkurina.

Kun monistin ikkunoita, tein vielä muutoksia ikkunoiden kopioinnin jälkeen objekteihin. Tämän jälkeen jouduin muuttamaan vielä alkuperäistä objektia. Löysin onneksi **Link object data**-toiminnon, jolla pystyi muuttamaan samalla alkuperäistä objektiakin.

{% include gallery id="galleryikkunat" %}

Toteutin oven suurimmaksi osaksi **Box-Modeling** periaatteella yhdestä kappaleesta. Eristin myöhemmin kappaleita omiksi objekteikseen, kun tekstuurit eivät renderöityneet oikein Cyclesillä, ja yritin korjata ongelmaa.

{% include gallery id="galleryovi" %}

## Materiaalit

Aika oli luoda materiaaleja. Loin tutoriaalien avulla ja itse kokeilemalla erilaisia kuvioita ja materiaaleja. Loin testausta varten projektiin oman scenen, johon asetin testattavat materiaalit eri kappaleisiin. Materiaalit olivat aluksi vaikeita ymmärtää ja luoda, mutta rutiinilla alkoi hahmottaa että mitä tiettyjä yhdistelemällä saisi tietynlaisen kuvion aikaiseksi. Tykkäsin kokeilla luoda satunnaisia ja luonnollisia kuvioita, erityisesti puuta muistuttavia materiaaleja.

{% include gallery id="gallerymateriaalit" %}

## Terassi

Terassiin halusin tehdä aidon näköiset laudat, joten etsin mitat, ja mallin erään rautakaupan sivuilta. Mallinsin laudat tarkasti mittojen mukaan ja asetin terassin pohjaksi limittäin *Arrayta* käyttäen. Leikkasin lautojen ylimenevän osuuden kappaleella, johon laitoin *Boolean*-modifierin.

{% include gallery id="galleryterassi" %}

## Aidat ja Geometry Nodes

Halusin tehdä aidat käyttäen uutta **Geometry Nodes**-toimintoa blenderissä. Geometry Nodes on node-pohjainen työkalu, jolla voi tehdä noodipohjaista geometriamanipulointia monella eri tavoin. Sillä voi tehdä esimerkiksi dynaamisia aitoja, partikkelisysteemin tapaisia distribuutioita eri pinnoille, ja olemassa olevaan geometriaan muutoksia erilaisien noodien avulla. Halusin tehdä terassiaidan, johon tulee kaide ja sivulaudat, joka skaalautuu automaattisesti ja jota voi dynaamisesti siirrellä. Tavallisella arraylla ei tällaista voi tehdä yksinään.

Geometry Nodes osoittautuikin aidan tapauksessa haastavammaksi tehtäväksi kuin ajattelin. Aidat sain hyvin jaoteltua **Curvelle** eli käyrälle, mutta aidan laudat olivat haastavia, ja ominaisuuden uutuuden takia dokumentaatiota eikä tutoriaaleja ollut paljoa saatavilla. Sain kuitenkin yritysten ja kokeilujen kautta suoran kopioitua ja muutettua kaiteeksi sekä sivulaudoiksi.

{% include gallery id="galleryaidat" %}

## Katto, savupiippu, savu

Kattoa mallintaessa nostin seinien korkeutta metrillä ja leikkasin Boolean-modifierillä seinät katon muottiin. Tein katon kehykset laudoista ja asetin katon päälle mustia levyjä bitumikattohuovaksi. Kattoa varten oli aluksi vaikea asetella lautoja toisensa jälkeen samaan kulmaan ja tasoon, joten löysin keinon lautojen ja muidenkin kattokappaleiden helpommalle asettelulle: [Oman koordinaatiston luominen](https://www.youtube.com/watch?v=b2g-eG6KkCk). Tämän avulla sain kaikki kattokappaleet helposti aseteltua.

Tein savupiipun peltihormina ja lisäsin savun käyttämällä blenderin *Quick Effects* -> *Quick Smoke* toimintoa, minkä lisäsin palloon, jonka piilotin savupiippuun. Asetin savupiipun hormin seinämiin ja hattuun *Liquid Colliderin* (Physics-välilehti), jonka avulla sain savun törmäämään piipun geometriaan. Vielä pisteeksi i:n päälle lisäsin tuuliobjektin työntämään savua piipusta ulos. Savun generointi tapahtui "beikkaamalla" (bake) savuefekti tietyille keyframeille. Asetin savun alkamaan kehyksestä -100, jotta savu olisi jo ilmassa ensimmäisen kehyksen kohdalla, josta renderöinti alkaisi.

{% include gallery id="gallerykatto" %}

## Ympäristö

Loin ympäristölle ruudukon, jonka muotoilin poikkileikkausmaiseksi. Tein ympäristölle kolme erilaista tekstuuria: multa, sora ja hiekka. Osoittautui aluksi vaikeaksi keksiä miten saada kaikkia materiaaleja maalattua samaan maastoon. Löysin netistä [tutoriaalivideon](https://www.youtube.com/watch?v=L0hsY1sudRk), jonka mukaan tekstuureja voi maalata objektiin käyttäen apuna itseluotuja maskitekstuureja, joilla maalataan materiaali maastoon. Objekti UV-unwräpätään ja mustalle testuurille maalataan valkoista kohtiin, joista haluaa toisen tekstuurin näkyvän läpi. Materiaalit yhdistetään materiaali-node-editorissa *Mix shader*-noodin avulla ja maskitekstuuri kiinnitettään *Mix Shader*-noodin *Fac*-arvoon.

Lisäsin maastoon partikkelisysteemin käyttäen hiuspartikkelia, jonka muotoilin ja värjäsin ruohon näköiseksi. Verteksiryhmän (Vertex Group) ja *Weight Paint*-työkalun avulla värjäsin kohdat, missä halusin ruohoa olevan. Saman toistin ruohon pituudelle.

Kivet generoin maisemaan käyttämällä tuttua **Geometry nodes**-työkalua. Tein työkalun, jolla generoin yksinkertaisista objekteista kuten kuutioista yksityiskohtaisia ja rosoisia kivimalleja. Työkalussa on muutama parametri, joita voi muuttaa ja hienosäätää siten lopputulosta. 

{% include gallery id="gallerymaisema" %}

## Puut

Puut generoin käyttämällä Blenderin omaa lisäosaa *Sapling Tree Gen*. Lisäosalla pystyy luomaan erilaisia puupresettejä säätämällä monia puiden ominaisuuksia esim oksien tiheyttä, korkeutta ja haaroitusta. Työkalusta löytyy lukuisien asetusten lisäksi valmiita presettejä. Käytin valmista presettiä sekä omaa luomaa koivujen generointiin. Generoimisen jälkeen muutin puut *Meshiksi* ja loin niille materiaalin yritten jäljitellä oikeaa koivun ulkonäköä.

Lehdet koivuun sain luomalla koivuun **Particle Systeemin**. Tein verteksijoukon koivun oksille, mihin jaoin partikkelit. Partikkelia varten löysin koivun oksan kuvan netistä, jonka asetin partikkeleiden muodoksi. Lopuksi säädin partikkeleiden määrityksiä esim. satunnaisuutta koon ja rotaation suhteen.

{% include gallery id="gallerypuut" %}

## Vesi

Veden tein aluksi laittamalla tason rantaan, ja teksturoin sen karheaksi ja heijastamaan paljon valoa. Koska alussa suunnittelin vielä maisemaa, jossa olisi ns kuutiomainen poikkileikkaus, eli näyttäisi siltä että mökki olisi kuutiomaisella maapläntillä, niin vesi näytti siinä huonolta, koska se oli vain leijuva taso maan päällä. Tein uuden veden käyttäen lasista kuutiota, jonka pinnan tasoa vain aaltomaisesti animoin. Lasiblokissa oli se hyvä puoli, että se alkuperäisessä suunnitelmassani näytti todella paljon paremmalta kuin pelkkä taso, ja oli sopivasti läpinäkyvä. Päädyin loppurenderissä käyttämään tätä lasista blokkia, vaikka se ei päässyt oikeuksiinsa loppurenderissä.

Lisäsin veden materiaaliin ja displacement:iin animaation saadakseni veden liikkumista muistuttavan efektin.

{% include gallery id="galleryvesi" %}

## Renderöinti ja kompositointi

Objektien viimein paikalla ollessa sain luvan renderöidä. Objektit piti jakaa eri **ViewLayer**eihin, jotta staattisia liikkumattomia asioita ei tarvitsisi renderöidä kahta kertaa. Läpinäkyvyys täytyi renderöintiasetuksista laittaa päälle, jotta ympäristön taustakuva ei tulisi renderiin mukaan. ViewLayeristä pystyi sitten laittamaan päälle niitä *Collectioneja* eli kokoelmia mitä halusi kyseiseen ViewLayeriin mukaan. ViewLayeristä voi laittaa myös päälle pelkästään muiden objektien jättämän läpinäkyvän leikkauksen ja/tai niiden vaikutuksen ympäristöön, kuten varjostus tai valo, ilman että kyseinen objektikokoelma on Layerissä mukana.

Kokonaisajaksi renderöinnissä meni useampi tunti, sillä blender välillä kaatui kesken renderöinnin, ja eräässä tapauksessa renderöinti piti aloittaa alusta.

Renderöinnin jälkeen kompositointityökalulla renderöidyt eri ViewLayereiden kuvat voitiin yhdistää. Tärkeää yhdistelyssä oli kuvien oikea järjestys, jotta kaikki layerit näkyivät lopputuloksessa. Osa layereistä oli staattisia kuvia ja osa kuvakokoelmia, jotka voitiin sitten jälkirenderöidä animaatioksi. Lisäsin kompositointiin muutamia jälkikäsittelyefektejä, joilla säädin ensin erikseen eri viewlayereiden värejä ja sitten lopulta koko lopputuloksen värejä ja valotusta yhdessä. Animaation renderöinnin jälkeen vihdoin uurastuksen lopputulos oli käsissä!

{% include gallery id="gallerykomposti" %}

## Hasteet

Alussa en tajunnut sitä miten booleanit toimivat, ja ihmettelin, että boolean-leikkauksen jälkeen leikkauskohdan materiaali on eri kuin mikä leikattavan materiaalin. Tutustuttuani aiheeseen dokumentaation kautta paremmin, tajusin, että booleanit jättävät leikkaavan objektin materiaalin leikattavan objektin leikkauspinnalle. Ratkaisu tähän oli poistaa leikattavan objektin materiaali ja asettaa se uudelleen leikkauksen jälkeen.

Kun olin saanut ovet ja ikkunat tehtyä, kokeilin renderöintiä **Cyclesillä** ja huomasin, että ovessa ja ikkunalaudoissa oli mustia raitoja. Eeveellä renderöitäessä ei ollut. Huomasin, että objektin Pivot-pointin eli originin asettaminen saranasta objektin keskelle korjasi osittain mustat raidat tekstuurissa.

Yksi harmillisimmista ongelmista mikä tuli vastaan oli se, kun yritin mallintaa halkeamia hirsien päätyyn. Halkeamien syvyyttä ei saanut tavallisella normal/bumpmapilla tehtyä, joten vaihtoehtona oli käyttää Cyclesillä näkyvää displacementtiä, joka tekee visuaalisen mutta oikean muutoksen muotoon. Kokeilin erilaisia sisäänrakennettuja tekstuureja halkeamien tuottamiseen kuten *voronoi*, *perlin noise*, *musgrave*, ja sain lopulta aika aidon näköisen halkeaman aikaan. Huono puoli oli siinä, että halkeamien tuottamiseen displacementillä vaadittiin runsaasti geometriaa, ja geometria vaati paljon tehoa tietokoneelta. Sain blenderin kaatumaan, eikä se suostunut käynnistämään projektia pitkien yritysten ja odotustenkaan jälkeen, mutta onneksi löysin varmuuskopion projektista, joka tosin laittoi minun etenemisen useita tunteja taaksepäin.

Renderöinnissä oli lopuksi haastetta, sillä maisemani oli niin yksityiskohtainen, että yhden kehyksen renderöinti kesti yli 40 minuuttia. Minulla oli animaatioiden vuoksi renderöitäviä kehyksiä 100, joten joko animaatio piti jättää pois, tai keksiä miten renderöintiaikaa saisi pienennettyä. Tuntiopettaja antoi vinkin, että renderöitäviä asioita voi jakaa eri **layereihin** eli kerroksiin. Löysin netistä hieman ohjeita, ja sain objektit jaettua eri kerroksiin ja sain renderöityä kerrokset erikseen ja yhdistettyä **kompositoinnin** avulla.

Renderöinnissä tuli toinenkin ongelma, kun yhden animaation tallennuksen jälkeen tallennustiedostomuodoksi oli vaihtunut PNG ilman alfa-kerrosta, eli toisin sanoen läpinäkymätön kuvamuoto. Tämän jälkeen olin renderöinyt 100 kehystä veden layeriä vain huomatakseni, että kuvissa ei ole ollenkaan läpinäkyvyyttä enkä voi yhdistää kuvia kompositoinnin avulla. Vaihdoin tallennustiedostomuotoa tallentamaan myös läpinäkyvyystiedot, ja jouduin renderöimään nämä 100 kehystä uudelleen.'

{% include gallery id="galleryhaasteet" %}

# Itsearviointi

Työ eteni ja onnistui suuremmilta osin hyvin. Olen tyytyväinen lopputulokseen. Parannettavaa tietenkin on paljon, mutta tähän projektiin tämä on mielestäni riittävä lopputulos. Käytin monimutkaisia tekniikoita esim. Geometry Nodes, ViewLayer-renderöinti, animaation kompositointi, partikkelit. Skulptausta oli hieman myös mukana (maasto). Käytin myös mielestäni tekniikoita suhteellisen monipuolisesti.

Onnistuneimpana ominaisuutena projektissa pidän erityisesti mökkiä. Se on monipuolinen ja sisältää paljon yksityiskohtia, jotka on osa tehty uusimpia tekniikoita käyttäen. Myös pidän hyvin onnistuneena maastoa. Sain hyvin yhdistettyä yhteen maastoon eri maskitekstuureja ja maalaamista hyväksi käyttäen kompleksisia materiaaleja, jotka mielestäni näyttävät hyvältä lopputuloksessa. Ehkä materiaalit ja node-editorin käyttö on oma vahvuuteni, joka aika hyvin näkyy harjoitustyöstä.

Pidän harjoistyötäni kiitettävään arvosanaan riittävänä tai ainakin pääsevän lähelle sitä.

## Kritiikki

Työssä ehkä heikoin kohta on siinä, että maiseman monimutkaisuus ei jakaannu ihan tasaisesti. Mökki on monimutkaisin osa maisemaa, ja ympäröivä muu maisema ei ole aivan yhtä monimutkainen. Mökkiin onkin käytetty suhteessa eniten ainaa. Ennen kuin tein viimeisen renderöinnin, pienensin näkymää kohdistumaan enemmän mökkiin, että mökki pääsisi paremmin oikeuksiinsa.

Vesiraja jäi kokonaan huomiotta, joka renderissä pistää hieman silmään. Sen voisi ehkä tekstuurilla häivyttää.

Puihin oli myös vaikea saada lehdet näyttämään hyvältä. Kokeilin yksittäisiä lehtiä puissa, mutta se ei näyttänyt hyvältä. Oksia olisi pitänyt olla paljon enemmän ja niiden olisi pitänyt jakaantua vielä lisää. Tyydyin tässä vähän heikompaan tulokseen.

# Tulokset

Voit katsoa renderöidyn animaation ja renderöidyt kuvat tästä (Muista klikata video **1080p**-resoluutiolle):

{% include video id="MKADZk-r7VQ" provider="youtube" %}

{% include gallery id="galleryrender" %}

# Projektin vaiheisiin kulunut aika:

| Tunnit | Vaiheet | 
|--------|-------|
|   6     |  Perustukset, Seinät, ikkunat |   
|   4     |  ikkunat ja oviaukko     |   
|   9     |   ovi ja materiaalit    |  
|   4     |    Materiaalit   |  
|   9     |  Terassi, betoniperustus, aidat     |  
|   5    |  portaat, palkit, katto    |  
|   9     |  Katto, savupiippu  |  
|   7     |  Maasto, vesi, puut, kivet |  
|    10    |    Renderöinti, kompositointi   |  
| Yht  |       |  
|    63    |       |  